{% load static %}
<!DOCTYPE html>
<!---Coding By CodingLab | www.codinglabweb.com-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Register</title>
    <link rel="shortcut icon" href="{% static 'core/images/logo.jpg' %}" type="image/x-icon">
    <link rel="stylesheet" href="{% static 'core/css/register.css' %}" />
    <style>
        /* Import Google font - Poppins */
        @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap");
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          font-family: "Poppins", sans-serif;
        }
        body {
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
          background: rgb(201, 199, 209);
        }
        .container {
          position: relative;
          max-width: 700px;
          width: 100%;
          background: #fff;
          padding: 25px;
          border-radius: 8px;
          box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        
        .registration-image-container {
            display: flex;
            justify-content: center;
        }
        
        .registration-image {
            width: 100px;
            height: 50px;
        }
        
        .container .form {
          margin-top: 30px;
        }
        .form .input-box {
          width: 100%;
          margin-top: 20px;
        }
        .input-box label {
          color: #333;
        }
        .form :where(.input-box input, .select-box) {
          position: relative;
          height: 50px;
          width: 100%;
          outline: none;
          font-size: 1rem;
          color: #707070;
          margin-top: 8px;
          border: 1px solid #ddd;
          border-radius: 6px;
          padding: 0 15px;
        }
        .input-box input:focus {
          box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
        }
        .form .column {
          display: flex;
          column-gap: 15px;
        }
        .form .gender-box {
          margin-top: 20px;
        }
        .gender-box h3 {
          color: #333;
          font-size: 1rem;
          font-weight: 400;
          margin-bottom: 8px;
        }
        .form :where(.gender-option, .gender) {
          display: flex;
          align-items: center;
          column-gap: 50px;
          flex-wrap: wrap;
        }
        .form .gender {
          column-gap: 5px;
        }
        .gender input {
          accent-color: rgb(130, 106, 251);
        }
        .form :where(.gender input, .gender label) {
          cursor: pointer;
        }
        .gender label {
          color: #707070;
        }
        .address :where(input, .select-box) {
          margin-top: 15px;
        }
        .select-box select {
          height: 100%;
          width: 100%;
          outline: none;
          border: none;
          color: #707070;
          font-size: 1rem;
        }
        .form button {
          height: 55px;
          width: 100%;
          color: #fff;
          font-size: 1rem;
          font-weight: 400;
          margin-top: 30px;
          border: none;
          border-radius: 5px;
          cursor: pointer;
          transition: all 0.2s ease;
          background: rgb(250, 101, 56);
          background: rgb(240, 31, 31);
        }
        .form button:hover {
          background: rgb(218, 144, 121);
        }
        /*Responsive*/
        @media screen and (max-width: 500px) {
        
          .form .column {
            flex-wrap: wrap;
          }
          .form :where(.gender-option, .gender) {
            row-gap: 15px;
          }
        }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-297C7ZR3QW"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-297C7ZR3QW');
    </script>
  </head>
  <body>
    <section class="container">
      <div class="registration-image-container">
            <img class="registration-image" src="{% static 'core/asset/rvc.png' %}">
      </div>
    <form action="{% url 'rvc2024:register' %}" method="POST" class="form">
        {% csrf_token %}
        <div class="input-box">
          <label>Full Name</label>
          <input type="text" placeholder="Enter full name" name="name" required />
        </div>

        <div class="input-box">
          <label>Email Address</label>
          <input type="text" placeholder="Enter email address" name="email" required />
        </div>

        <div class="column">
          <div class="input-box">
            <label>Phone Number</label>
            <input type="number" placeholder="Enter phone number" name="phone" required />
          </div>
        </div>

        <div class="column">
            <div class="input-box">
              <label>Address/Location</label>
              <input type="text" placeholder="Enter Location" name="address" required />
            </div>
        </div>
        
        <div class="input-box address">
            <label for="ministry-select" class="visually-hidden">Select Ministry</label>
            <div class="column">
                <div class="select-box">
                    <select id="ministry-select" onchange="showAdditionalOptions()" name="ministry" required>
                        <option hidden>Select Ministry</option>
                        <option value="Godhouse Center">Godhouse Center</option>
                        <option value="Other">Others</option>
                    </select>
                </div>
            
                <!-- Additional options for Godhouse Center -->
                <div id="godhouse-options" style="display: none; margin-top: 2px;">
                    <label for="godhouse-suboption" style="color:blue;">Godhouse Center Options:</label>
                    <select required id="godhouse-suboption" name="godhouse-location">
                        <option hidden style="border: 1px solid blue; width 100%;">Choose your centre</option>
                        {% for location in locations %}
                            <option name="{{ location.name }}" style="border: 1px solid blue; width 100%;">{{ location.name }}</option>
                        {% endfor %}
                    </select>
                </div>
        
                <!-- Input field for "Other" option -->
                <div id="other-input" style="display: none;">
                    <label for="other-text">Please specify:</label>
                    <input style="margin-top: 2px; height: 57%;" type="text" name="local_church" id="other-text" placeholder="Enter other ministry">
                </div>
            </div>
        </div>
        
        <div class="column">
            <div class="select-box">
              <select name="ministry-status">
                <option hidden>Ministry Status</option>
                <option value="Pastor">Pastor</option>
                <option value="Minister">Minister</option>
                <option value="Leaders">Leader</option>
                <option value="Workers">Worker</option>
                <option value="Members">Member</option>
              </select>
            </div>
        </div>

    
        <div class="column">
            <div class="select-box">
              <select name="know">
                <option hidden>How did you know about RVC</option>
                <option value="Godhouse">Godhouse</option>
                <option value="Banner/Billboard">Banner/Billboard</option>
                <option value="Fliers">Fliers</option>
                <option value="Social media">Social media</option>
                <option value="Invited">Invited</option>
                <option value="Others">Others</option>
              </select>
            </div>
        </div>

        <div class="column">
            <div class="select-box">
              <select name="attending">
                <option hidden>How will you be attending</option>
                <option value="Online">Online</option>
                <option value="Onsite">Onsite</option>
              </select>
            </div>
        </div>

        <div class="column">
            <div class="select-box">
              <select name="need">
                <option hidden>Would You need Accomodation</option>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
              </select>
            </div>
        </div>
        <button type="submit">Register</button>
      </form>
    </section>  

    <script>
        function showAdditionalOptions() {
            const ministrySelect = document.getElementById('ministry-select');
            const godhouseOptions = document.getElementById('godhouse-options');
            const otherInput = document.getElementById('other-input');
            const godhouseSuboption = document.getElementById('godhouse-suboption');
            const otherTextInput = document.getElementById('other-text');
    
            // Reset 'required' attributes on both fields first
            godhouseSuboption.removeAttribute('required');
            otherTextInput.removeAttribute('required');
    
            // Display specific field based on selected option
            if (ministrySelect.value === 'Godhouse Center') {
                godhouseOptions.style.display = 'block';
                otherInput.style.display = 'none';
                godhouseSuboption.setAttribute('required', 'required'); // Set required for this select
            } else if (ministrySelect.value === 'Other') {
                otherInput.style.display = 'block';
                godhouseOptions.style.display = 'none';
                otherTextInput.setAttribute('required', 'required'); // Set required for this input
            } else {
                godhouseOptions.style.display = 'none';
                otherInput.style.display = 'none';
            }
        }
    </script>
    <script>
        function showAdditionalOptions() {
            const ministrySelect = document.getElementById('ministry-select');
            const godhouseOptions = document.getElementById('godhouse-options');
            const otherInput = document.getElementById('other-input');
        
            // Display specific field based on selected option
            if (ministrySelect.value === 'Godhouse Center') {
              godhouseOptions.style.display = 'block';
              otherInput.style.display = 'none';
            } else if (ministrySelect.value === 'Other') {
              otherInput.style.display = 'block';
              godhouseOptions.style.display = 'none';
            } else {
              godhouseOptions.style.display = 'none';
              otherInput.style.display = 'none';
            }
        }
        
        // Function to show additional options based on ministry selection
         function showAdditionalOptions() {
            const ministrySelect = document.getElementById('ministry-select');
            const godhouseOptions = document.getElementById('godhouse-options');
            const otherInput = document.getElementById('other-input');
            const godhouseSuboption = document.getElementById('godhouse-suboption');
            const otherTextInput = document.getElementById('other-text');
        
            // Reset fields
            godhouseOptions.style.display = 'none';
            otherInput.style.display = 'none';
            godhouseSuboption.removeAttribute('required');
            otherTextInput.removeAttribute('required');
        
            // Show and set requirements based on selection
            if (ministrySelect.value === 'Godhouse Center') {
              godhouseOptions.style.display = 'block';
              godhouseSuboption.setAttribute('required', 'required');
            } else if (ministrySelect.value === 'Other') {
              otherInput.style.display = 'block';
              otherTextInput.setAttribute('required', 'required');
            }
          }
        
          // Form validation on submit
          document.getElementById('ministry-form').addEventListener('submit', function(event) {
            const ministrySelect = document.getElementById('ministry-select');
            const godhouseOptions = document.getElementById('godhouse-options');
            const godhouseSuboption = document.getElementById('godhouse-suboption');
            const otherInput = document.getElementById('other-input');
            const otherTextInput = document.getElementById('other-text');
        
            // Check if ministry is selected
            if (!ministrySelect.value) {
              alert('Please select a ministry.');
              event.preventDefault();
              return;
            }
        
            // Validate Godhouse Center Options
            if (ministrySelect.value === 'Godhouse Center' && !godhouseSuboption.value) {
              alert('Please select a Godhouse Center option.');
              event.preventDefault();
              return;
            }
        
            // Validate Other Ministry
            if (ministrySelect.value === 'Other' && !otherTextInput.value.trim()) {
              alert('Please specify the other ministry.');
              event.preventDefault();
              return;
            }
        });

    </script>
  </body>
</html>